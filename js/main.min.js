function testWebP(e){var t=new Image;t.onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}function _removeClass(e,t){for(let i of e)i.classList.remove(t)}function _addClass(e,t){for(let i of e)i.classList.add(t)}function getInputNumbersValue(e){return e.value.replace(/\D/g,"")}function ymap(){let e=document.querySelector(".top-footer__map");function t(){if("undefined"==typeof ymaps)return;document.getElementById("ymap");ymaps.ready((function(){let e=new ymaps.Map("ymap",{center:[44.574939115459905,38.070559675407345],zoom:18,controls:["zoomControl"],behaviors:["drag"]}),t=new ymaps.Placemark([44.574939115459905,38.070559675407345],{hintContent:"CFMOTO",balloonContentHeader:"CFMOTO",balloonContentBody:"г. Геленджик"},{preset:"islands#icon",iconColor:"#037e8c"});e.geoObjects.add(t)}))}function i(){let s=e.getBoundingClientRect().top,o=window.pageYOffset,l=s+o;o+window.innerHeight>l&&(!function(){let e=document.createElement("script");e.src="https://api-maps.yandex.ru/2.1/?lang=ru_RU",document.body.appendChild(e),e.onload=t}(),window.removeEventListener("scroll",i))}function s(){const e=document.querySelector(".top-footer__map"),t=document.querySelector(".top-footer__content"),i=document.querySelector(".top-footer__grid");window.matchMedia("(max-width: 1200px)").matches?t.querySelector(".top-footer__map")||t.insertBefore(e,i):t.querySelector(".top-footer__map")&&document.querySelector(".top-footer").appendChild(e)}window.addEventListener("scroll",i),i(),window.addEventListener("resize",s),s()}function formAddError(e){e.classList.add("_error"),e.parentElement.classList.add("_error")}function formRemoveError(e){e.classList.remove("_error"),e.parentElement.classList.remove("_error")}function emailTest(e){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e.value)}function phoneMask(){let e=document.querySelectorAll("input[data-tel-input]");for(let o of e)o.addEventListener("keydown",s),o.addEventListener("input",i,!1),o.addEventListener("paste",t,!1);function t(e){let t=e.target,i=getInputNumbersValue(t),s=e.clipboardData||window.clipboardData;if(s){let e=s.getData("Text");if(/\D/g.test(e))return void(t.value=i)}}function i(e){let t=e.target,i=getInputNumbersValue(t),s=t.selectionStart,o="";if(!i)return t.value="";if(t.value.length==s){if(["7","8","9"].indexOf(i[0])>-1){"9"==i[0]&&(i="7"+i);let e="8"==i[0]?"8":"+7";o=t.value=e+" ",i.length>1&&(o+="("+i.substring(1,4)),i.length>=5&&(o+=") "+i.substring(4,7)),i.length>=8&&(o+="-"+i.substring(7,9)),i.length>=10&&(o+="-"+i.substring(9,11))}else o="+"+i.substring(0,16);t.value=o}else e.data&&/\D/g.test(e.data)&&(t.value=i)}function s(e){let t=e.target.value.replace(/\D/g,"");8==e.keyCode&&1==t.length&&(e.target.value="")}}function popup(){const e=document.querySelectorAll(".popup-link"),t=document.querySelector("body"),i=document.querySelectorAll(".lock-padding");let s=!0;if(e.length>0)for(let t=0;t<e.length;t++){const i=e[t];i.addEventListener("click",(function(e){const t=i.getAttribute("href").replace("#","");l(document.getElementById(t)),e.preventDefault()}))}const o=document.querySelectorAll(".close-popup");if(o.length>0)for(let e=0;e<o.length;e++){const t=o[e];t.addEventListener("click",(function(e){r(t.closest(".popup")),e.preventDefault()}))}function l(e){if(e&&s){const o=document.querySelector(".popup._open");o&&!o.classList.contains("tour")?r(o,!1):function(){const e=window.innerWidth-document.querySelector(".wrapper").offsetWidth+"px";if(i.length>0)for(let t=0;t<i.length;t++){i[t].style.paddingRight=e}t.style.paddingRight=e,t.classList.add("_lock"),s=!1,setTimeout((function(){s=!0}),500)}(),e.classList.add("_open"),e.addEventListener("click",(function(e){e.target.closest(".popup__content")||r(e.target.closest(".popup"))}))}}function r(e,o=!0){s&&(e.classList.remove("_open"),o&&0===document.querySelectorAll(".popup._open").length&&(setTimeout((function(){if(i.length>0)for(let e=0;e<i.length;e++)i[e].style.paddingRight="0px";t.style.paddingRight="0px",document.querySelector(".menu").classList.contains("_active")||t.classList.remove("_lock")}),500),s=!1,setTimeout((function(){s=!0}),500)))}document.addEventListener("keydown",(function(e){if(27===e.which){r(document.querySelector(".popup._open"))}}))}function anchorScroll(){const e=document.querySelectorAll("a._anchor-scroll");for(let t=0;t<e.length;t++){const i=e[t];i.addEventListener("click",e=>{e.preventDefault();const t=i.getAttribute("href").replace("#",""),s=document.querySelector(".header"),o=document.getElementById(t);let l;l=s.classList.contains("_scroll")||window.matchMedia("(max-width: 1200px)").matches?s.offsetHeight:106;const r=o.getBoundingClientRect().top-l;document.querySelector(".menu").classList.remove("_active"),document.querySelector(".header__burger").classList.remove("_active"),document.body.classList.remove("_lock"),window.scrollBy({top:r,behavior:"smooth"})})}}function formCheck(){const e=document.querySelectorAll("form");for(var t=0;t<e.length;t++)form=e[t],form.addEventListener("submit",i);async function i(e){e.preventDefault();!function(e){let t=0,i=e.querySelectorAll("._req");for(var s=0;s<i.length;s++){const e=i[s];formRemoveError(e),""==e.value&&(formAddError(e),t++)}}(e.currentTarget)}}function fancybox(e,t){const i=document.querySelector(e).querySelectorAll(t);for(let s=0;s<i.length;s++){i[s].addEventListener("click",(function(i){i.preventDefault();const s=this.parentElement.getAttribute("data-swiper-slide-index");$.fancybox.open($(`${e} .swiper-slide:not(.swiper-slide-duplicate) ${t}`),{closeClick:!0,buttons:["zoom","close"],mobile:{clickContent:"close",clickSlide:"close"},backFocus:backFocus=!1},s)}))}}testWebP((function(e){1==e?document.querySelector("body").classList.add("webp"):document.querySelector("body").classList.add("no-webp")})),window.onload=function(e){const t=document.querySelectorAll("form");for(var i=0;i<t.length;i++)form=t[i],form.addEventListener("submit",s);async function s(e){e.preventDefault();(function(e){let t=e.querySelectorAll("._req");for(var i=0;i<t.length;i++){const e=t[i];formRemoveError(e),e.classList.contains("_email")?emailTest(e)||(formAddError(e)):""==e.value&&(formAddError(e))}})(form),new FormData(form)}function o(e,t=!0,i=500){const s=e,o=s.querySelectorAll("[data-spoiler]");if(o.length>0)for(let e=0;e<o.length;e++){const l=o[e];l.addEventListener("click",e=>{const o=l.nextElementSibling;s.querySelectorAll("._slide").length||(t&&!l.classList.contains("_active")&&n(),l.classList.toggle("_active"),l.parentElement.classList.toggle("_active"),r(o,i)),e.preventDefault()})}function n(){const e=s.querySelector("[data-spoiler]._active");e&&(e.classList.remove("_active"),e.parentElement.classList.remove("_active"),l(e.nextElementSibling,i))}}const l=(e,t=500)=>{e.classList.contains("_slide")||(e.classList.add("_slide"),e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.boxSizing="border-box",e.style.height=e.offsetHeight+"px",e.offsetHeight,e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,window.setTimeout(()=>{e.style.display="none",e.style.removeProperty("height"),e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.classList.remove("_slide")},t))},r=(e,t=500)=>"none"===window.getComputedStyle(e).display?((e,t=500)=>{if(!e.classList.contains("_slide")){e.classList.add("_slide"),e.style.removeProperty("display");let i=window.getComputedStyle(e).display;"none"===i&&(i="block"),e.style.display=i;let s=e.offsetHeight;e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,e.offsetHeight,e.style.boxSizing="border-box",e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=s+"px",e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),window.setTimeout(()=>{e.style.removeProperty("height"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.classList.remove("_slide")},t)}})(e,t):l(e,t);o(document.querySelector(".ask__spoilers"),!0,700);const n=document.querySelectorAll(".main-tour__item");for(const e of n)o(e,!0,700);new Swiper(".team__slider",{slidesPerView:4,speed:1200,loop:!0,slidesPerGroup:4,autoHeight:!0,preventInteractionOnTransition:!0,spaceBetween:30,navigation:{nextEl:".team__next",prevEl:".team__prev"},lazy:{loadPrevNext:!0},preloadImages:!1,watchSlidesProgress:!0,watchSlidesVisibillity:!0,pagination:{el:".team__pagination",type:"bullets",clickable:!0},breakpoints:{320:{slidesPerView:1.6,slidesPerGroup:1,speed:800},768:{slidesPerView:3,slidesPerGroup:3,speed:1200},992:{slidesPerView:4,slidesPerGroup:4}}}),new Swiper(".photo__slider",{observer:!0,observeParents:!0,slidesPerView:3.4,centeredSlides:!0,spaceBetween:30,loop:!0,parallax:!0,slidesPerGroup:1,speed:1e3,loopedSlides:5,slideToClickedSlide:!0,lazy:{loadPrevNext:!0},preloadImages:!1,watchSlidesProgress:!0,watchSlidesVisibillity:!0,pagination:{el:".photo__pagination",type:"bullets",clickable:!0},breakpoints:{320:{slidesPerView:1.5,spaceBetween:15},768:{spaceBetween:20,slidesPerView:1.9},992:{slidesPerView:3.4,spaceBetween:30}},on:{init:function(){let e=this,t=[];for(let i=0;i<e.slides.length;i++)t.push(e.slides[i]);for(let e of t)if(e.classList.contains("swiper-slide-active")){const t=e,i=t.previousElementSibling,s=t.nextElementSibling;window.matchMedia("(max-width: 991.98px)").matches||(i.querySelector(".photo__img").classList.add("_big"),s.querySelector(".photo__img").classList.add("_big")),t.querySelector(".photo__img").classList.add("_big")}},slideChange:function(){const e=this,t=[];for(let i=0;i<e.slides.length;i++)t.push(e.slides[i]);t.forEach(e=>e.querySelector(".photo__img").classList.remove("_big"));for(let i of t)if(i.getAttribute("data-swiper-slide-index")==e.realIndex){const e=i,s=e.previousElementSibling?e.previousElementSibling:t[t.length-1],o=e.nextElementSibling?e.nextElementSibling:t[0];window.matchMedia("(max-width: 991.98px)").matches||(s.querySelector(".photo__img").classList.add("_big"),o.querySelector(".photo__img").classList.add("_big")),e.querySelector(".photo__img").classList.add("_big")}}}}),new Swiper(".intro__slider",{observer:!0,observeParents:!0,slidesPerView:1,loop:!0,parallax:!0,slidesPerGroup:1,speed:1200,lazy:{loadPrevNext:!0},preloadImages:!1,watchSlidesProgress:!0,watchSlidesVisibillity:!0,pagination:{el:".intro__pagination",type:"bullets",clickable:!0},autoplay:{delay:4e3}}),new Swiper(".item-path__slider_one",{observer:!0,observeParents:!0,slidesPerView:2.2,loop:!0,parallax:!0,speed:1e3,spaceBetween:15,slideToClickedSlide:!0,lazy:{loadPrevNext:!0},preloadImages:!1,watchSlidesProgress:!0,watchSlidesVisibillity:!0,pagination:{el:".item-path__pagination",type:"bullets",clickable:!0},breakpoints:{320:{slidesPerView:1.9,spaceBetween:10},768:{slidesPerView:2.2,spaceBetween:15}},on:{init:function(){let e=this,t=[];for(let i=0;i<e.slides.length;i++)t.push(e.slides[i]);for(let e of t)e.classList.contains("swiper-slide-active")&&e.querySelector(".item-path__img").classList.add("_big")},slideChange:function(){const e=this,t=[];for(let i=0;i<e.slides.length;i++)t.push(e.slides[i]);t.forEach(e=>e.querySelector(".item-path__img").classList.remove("_big"));for(let i of t)i.getAttribute("data-swiper-slide-index")==e.realIndex&&i.querySelector(".item-path__img").classList.add("_big")}}}),new Swiper(".item-path__slider_two",{observer:!0,observeParents:!0,slidesPerView:2.2,loop:!0,parallax:!0,speed:1e3,spaceBetween:15,rtl:!0,slideToClickedSlide:!0,lazy:{loadPrevNext:!0},preloadImages:!1,watchSlidesProgress:!0,watchSlidesVisibillity:!0,pagination:{el:".item-path__pagination",type:"bullets",clickable:!0},breakpoints:{320:{slidesPerView:1.9,spaceBetween:10},768:{slidesPerView:2.2,spaceBetween:15}},on:{init:function(){let e=this,t=[];for(let i=0;i<e.slides.length;i++)t.push(e.slides[i]);for(let e of t)e.classList.contains("swiper-slide-active")&&e.querySelector(".item-path__img").classList.add("_big")},slideChange:function(){const e=this,t=[];for(let i=0;i<e.slides.length;i++)t.push(e.slides[i]);t.forEach(e=>e.querySelector(".item-path__img").classList.remove("_big"));for(let i of t)i.getAttribute("data-swiper-slide-index")==e.realIndex&&i.querySelector(".item-path__img").classList.add("_big")}}}),new Swiper(".item-path__slider_three",{observer:!0,observeParents:!0,slidesPerView:2.2,loop:!0,parallax:!0,speed:1e3,spaceBetween:15,slideToClickedSlide:!0,lazy:{loadPrevNext:!0},preloadImages:!1,watchSlidesProgress:!0,watchSlidesVisibillity:!0,pagination:{el:".item-path__pagination",type:"bullets",clickable:!0},breakpoints:{320:{slidesPerView:1.9,spaceBetween:10},768:{slidesPerView:2.2,spaceBetween:15}},on:{init:function(){let e=this,t=[];for(let i=0;i<e.slides.length;i++)t.push(e.slides[i]);for(let e of t)e.classList.contains("swiper-slide-active")&&e.querySelector(".item-path__img").classList.add("_big")},slideChange:function(){const e=this,t=[];for(let i=0;i<e.slides.length;i++)t.push(e.slides[i]);t.forEach(e=>e.querySelector(".item-path__img").classList.remove("_big"));for(let i of t)i.getAttribute("data-swiper-slide-index")==e.realIndex&&i.querySelector(".item-path__img").classList.add("_big")}}}),new Swiper(".main-tour__slider_base",{observer:!0,observeParents:!0,slidesPerView:2.2,loop:!0,parallax:!0,speed:1e3,spaceBetween:15,lazy:{loadPrevNext:!0},preloadImages:!1,watchSlidesProgress:!0,watchSlidesVisibillity:!0,pagination:{el:".item-path__pagination",type:"bullets",clickable:!0},breakpoints:{320:{slidesPerView:1.6,spaceBetween:10},768:{slidesPerView:2.2,spaceBetween:15}},on:{init:function(){let e=this,t=[];for(let i=0;i<e.slides.length;i++)t.push(e.slides[i]);for(let e of t)e.classList.contains("swiper-slide-active")&&e.querySelector(".item-path__img").classList.add("_big")},slideChange:function(){const e=this,t=[];for(let i=0;i<e.slides.length;i++)t.push(e.slides[i]);t.forEach(e=>e.querySelector(".item-path__img").classList.remove("_big"));for(let i of t)i.getAttribute("data-swiper-slide-index")==e.realIndex&&i.querySelector(".item-path__img").classList.add("_big")}}}),new Swiper(".main-tour__slider_medium",{observer:!0,observeParents:!0,slidesPerView:2.2,loop:!0,parallax:!0,speed:1e3,spaceBetween:15,lazy:{loadPrevNext:!0},preloadImages:!1,watchSlidesProgress:!0,watchSlidesVisibillity:!0,pagination:{el:".item-path__pagination",type:"bullets",clickable:!0},breakpoints:{320:{slidesPerView:1.6,spaceBetween:10},768:{slidesPerView:2.2,spaceBetween:15}},on:{init:function(){let e=this,t=[];for(let i=0;i<e.slides.length;i++)t.push(e.slides[i]);for(let e of t)e.classList.contains("swiper-slide-active")&&e.querySelector(".item-path__img").classList.add("_big")},slideChange:function(){const e=this,t=[];for(let i=0;i<e.slides.length;i++)t.push(e.slides[i]);t.forEach(e=>e.querySelector(".item-path__img").classList.remove("_big"));for(let i of t)i.getAttribute("data-swiper-slide-index")==e.realIndex&&i.querySelector(".item-path__img").classList.add("_big")}}}),new Swiper(".main-tour__slider_expert",{observer:!0,observeParents:!0,slidesPerView:2.2,loop:!0,parallax:!0,speed:1e3,spaceBetween:15,lazy:{loadPrevNext:!0},preloadImages:!1,watchSlidesProgress:!0,watchSlidesVisibillity:!0,pagination:{el:".item-path__pagination",type:"bullets",clickable:!0},breakpoints:{320:{slidesPerView:1.6,spaceBetween:10},768:{slidesPerView:2.2,spaceBetween:15}},on:{init:function(){let e=this,t=[];for(let i=0;i<e.slides.length;i++)t.push(e.slides[i]);for(let e of t)e.classList.contains("swiper-slide-active")&&e.querySelector(".item-path__img").classList.add("_big")},slideChange:function(){const e=this,t=[];for(let i=0;i<e.slides.length;i++)t.push(e.slides[i]);t.forEach(e=>e.querySelector(".item-path__img").classList.remove("_big"));for(let i of t)i.getAttribute("data-swiper-slide-index")==e.realIndex&&i.querySelector(".item-path__img").classList.add("_big")}}}),function(){const e=document.querySelector(".video__video video"),t=document.querySelector(".video__play"),i=document.querySelector(".video__name");t.addEventListener("click",(function s(){e.controls=!0,t.classList.add("_unactive"),i.classList.add("_unactive"),e.parentElement.classList.add("_unbordered"),e.play(),t.removeEventListener("click",s)}))}(),function(){const e=document.querySelector(".header");function t(){window.pageYOffset>e.clientHeight?(window.innerWidth>1200&&e.classList.add("_scroll"),e.classList.add("_bg")):(e.classList.remove("_scroll"),e.classList.remove("_bg"))}t(),window.addEventListener("scroll",t);const i=document.querySelector(".header__burger"),s=document.querySelector(".menu");i.addEventListener("click",(function(e){i.classList.toggle("_active"),document.body.classList.toggle("_lock"),s.classList.toggle("_active")}))}(),ymap(),phoneMask(),popup(),anchorScroll(),formCheck(),function(){const e=document.querySelectorAll(".book-tour__counter");for(const t of e){const e=t.querySelector("._tour-number"),i=t.querySelector(".book-tour__plus"),s=t.querySelector(".book-tour__minus");i.addEventListener("click",()=>{+e.value<100&&(e.value=+e.value+1)}),s.addEventListener("click",()=>{+e.value>1&&(e.value=+e.value-1)}),e.addEventListener("input",()=>{let t=getInputNumbersValue(e);t<1&&""!=t?t=1:t>100&&(t=100),e.value=t})}}(),function(){const e=document.querySelectorAll(".price-tour__info"),t=document.querySelector(".feature__item_power"),i=document.querySelector(".feature__item_volume");for(const s of e)s.addEventListener("click",()=>{t.querySelector("b").innerText=s.parentElement.getAttribute("data-power"),i.querySelector("b").innerText=s.parentElement.getAttribute("data-volume")})}(),fancybox(".photo__slider",".photo__img"),fancybox(".item-path__slider_one",".item-path__img"),fancybox(".item-path__slider_two",".item-path__img"),fancybox(".item-path__slider_three",".item-path__img")};